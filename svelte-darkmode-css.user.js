// ==UserScript==
// @name         svelte-darkmode-css
// @namespace    https://github.com/subz390/svelte-darkmode-css
// @version      0.4.0200817192445
// @description  Dark CSS for svelte.dev
// @author       SubZ390
// @run-at       document-body
// @grant        none
// @include      /svelte.dev\/(docs|tutorial)/
// ==/UserScript==

function k(c,f=!0){if("object"!==typeof c)return typeof c;if(null===c)return"null";c=Object.prototype.toString.call(c).match(/\[object\s(\w+)\]/)[1];return!0===f?c.toLowerCase():c}
function l(c,f=!1,e=document){try{if("string"==typeof c){if("string"==typeof e){let b=document.querySelector(e);if(null==b)return f&&console.error(`getNode:68 '${e}' not found`),null;e=b}let g=e.querySelector(c);return null==g?(f&&console.error(`getNode:81 '${c}' not found`),null):g}return c}catch(g){console.error(g)}}
function m(c,f,e){function g(a,b,d={}){return"function"===typeof b?b(a,d):a}let b=c?c.hasOwnProperty("warn")?c.warn:!1:!1;let h;if("object"===k(c)){e=(a,b)=>{b=b.find(b=>a.hasOwnProperty(b));if("undefined"!==typeof b)return a[b]};h=e(c,["option","options","property","props","properties"]);var a=e(c,["object"]);f=e(c,["default"]);c=e(c,["action","callback"])}else h=c,c=e;if(void 0===h)return b&&console.warn(`undefined options, returning default ${f}`),f;if("string"===typeof c&&"set"===c)return f;if("object"===
k(a))if("array"===k(h))for(e=0;e<h.length;e++){if(a.hasOwnProperty(h[e])){var d=g(a[h[e]],c,a);if(void 0!==d)return d}}else{if("string"===typeof h&&a.hasOwnProperty(h)&&(a=g(a[h],c,a),void 0!==a))return a}else if("array"===k(h))for(e=0;e<h.length;e++){if(void 0!==h[e]&&(d=g(h[e],c,a),void 0!==d))return d}else if(a=g(h,c,a),void 0!==a)return a;b&&console.warn(`no valid options found, returning default ${f}`);return f}
function p(c){function f(b,c){if("object"!==k(b))return g&&console.warn(`makeHTML: ${k(b)} should be an Object`),null;for(let d in b)if("debug"!==d&&null!==b[d]&&!1!==b[d])if("function"===k(b[d])&&b.hasOwnProperty(d)&&(b[d]=b[d]()),"object"===k(b[d])&&b.hasOwnProperty(d)){b[d].textNode=b[d].textNode||null;b[d].appendNode=b[d].appendNode||null;c&&(b[d].parentNode=c);if(b[d].tagName){var a=b[d];if("undefined"===typeof a.tagName)throw Error("makeHTML227: tagName undefined");a.el=document.createElement(a.tagName);
for(let b in a)if(a.hasOwnProperty(b)&&null!==a[b]&&!1!==a[b])try{switch(b){case "textNode":case "textContent":a.el.appendChild(document.createTextNode(a[b]));break;case "selectOptions":a.selectOptions=a.selectOptions||null;a.selectOptions.optionList=a.selectOptions.optionList||null;for(let b in a.selectOptions.optionList)if(a.selectOptions.optionList.hasOwnProperty(b)){let d=document.createElement("option");d.appendChild(document.createTextNode(b));b===a.selectOptions.selected&&(d.selected="selected");
a.el.appendChild(d)}break;case "innerHTML":a.el.insertAdjacentHTML("beforeend",a.innerHTML);break;case "insertAdjacentHTML":e(a.el,a.insertAdjacentHTML);break;case "checked":a.el.checked=a.checked;break;case "class":case "className":a.el.setAttribute("class",a[b]);break;default:-1===b.search(/(addEventListener|appendNodes?|childNodes|el|insert(Before|AdjacentHTML|After)|parentNode|replace(Child|Node)|tagName)/)&&a.el.setAttribute(b,a[b])}}catch(n){throw Error(`makeHTML: ${n}`);}if(a.addEventListener)if("array"===
k(a.addEventListener))a.el.addEventListener(a.addEventListener[0],a.addEventListener[1],a.addEventListener[2]);else if("object"===k(a.addEventListener))for(let b in a.addEventListener)a.addEventListener.hasOwnProperty(b)&&a.el.addEventListener(a.addEventListener[b][0],a.addEventListener[b][1],a.addEventListener[b][2]);a.parentNode?(a.parentNode=l(a.parentNode),a.parentNode.appendChild(a.el)):a.insertBefore?(a.insertBefore=l(a.insertBefore),a.insertBefore.parentNode.insertBefore(a.el,a.insertBefore)):
a.insertAfter?(a.insertAfter=l(a.insertAfter),a.insertAfter.parentNode.insertBefore(a.el,a.insertAfter.nextSibling)):a.replaceChild?(a.replaceChild=l(a.replaceChild),a.replaceChild.parentNode.replaceChild(a.el,a.replaceChild)):a.replaceNode&&(a.replaceNode=l(a.replaceNode),a.replaceNode.parentNode.replaceChild(a.el,a.replaceNode));b[d].childNodes&&f("function"===k(b[d].childNodes)?b[d].childNodes():b[d].childNodes,b[d].el)}else b[d].textNode&&b[d].parentNode?b[d].parentNode.appendChild(document.createTextNode(b[d].textNode)):
b[d].insertAdjacentHTML&&(b[d].parentNode||b[d].el)&&e(b[d].parentNode||b[d].el,b[d].insertAdjacentHTML);if(b[d].appendNode&&(b[d].parentNode||b[d].el))a=k(b[d].appendNode),"array"===a||"htmlcollection"===a?g&&console.warn("Use appendNodes (plural) to append more than one node"):("object"===a&&(a=Object.keys(b[d].appendNode),a[0]&&b[d].appendNode[a[0]].el&&(b[d].appendNode=b[d].appendNode[a[0]].el)),b[d].el?b[d].el.appendChild(b[d].appendNode):b[d].parentNode&&b[d].parentNode.appendChild(b[d].appendNode));
else if(b[d].appendNodes&&(b[d].parentNode||b[d].el))if("function"===typeof b[d].appendNodes&&(b[d].appendNodes=b[d].appendNodes()),a=k(b[d].appendNodes),"array"===a||"htmlcollection"===a)for(a=0;b[d].appendNodes[a];a++)if(-1!==k(b[d].appendNodes[a]).search("element"))b[d].el?b[d].el.appendChild(b[d].appendNodes[a]):b[d].parentNode&&b[d].parentNode.appendChild(b[d].appendNodes[a]);else{if("object"===k(b[d].appendNodes[a]))for(let c in b[d].appendNodes[a])b[d].appendNodes[a].hasOwnProperty(c)&&(b[d].appendNodes[a][c].el&&
b[d].el?b[d].el.appendChild(b[d].appendNodes[a][c].el):b[d].appendNodes[a][c].el&&b[d].parentNode&&b[d].parentNode.appendChild(b[d].appendNodes[a][c].el))}else if("object"===a)for(let a in b[d].appendNodes)if("object"===k(b[d].appendNodes[a])&&b[d].appendNodes.hasOwnProperty(a))if(b[d].appendNodes[a].el)b[d].el?b[d].el.appendChild(b[d].appendNodes[a].el):b[d].parentNode&&b[d].parentNode.appendChild(b[d].appendNodes[a].el);else for(let c in b[d].appendNodes[a])b[d].appendNodes[a].hasOwnProperty(c)&&
(b[d].appendNodes[a][c].el&&b[d].el?b[d].el.appendChild(b[d].appendNodes[a][c].el):b[d].appendNodes[a][c].el&&b[d].parentNode&&b[d].parentNode.appendChild(b[d].appendNodes[a][c].el))}else g&&console.warn(`makeHTML196: ${k(b[d])} must be an Object`);return b}function e(b,c){"string"===typeof c?b.insertAdjacentHTML("beforeend",c):"array"===k(c)&&b.insertAdjacentHTML(c[0],c[1])}let g=m({object:c,property:"warn",default:!0});return"undefined"===typeof c?(g&&console.warn("makeHTML: options undefined"),
null):"object"!==k(c)?(g&&console.warn("makeHTML: options is not an object"),null):f(c,null)}
function r(c){try{if(void 0===c)return console.error("qs15: options is undefined"),null;if("string"===typeof c&&""==c)return console.error("qs21: options is an empty string"),null;"string"===typeof c&&(c={se:c});let f="",e=document,g=!1,b=!1,h=!1;f=m({object:c,properties:["se","selector","selectors"],default:"*"});e=m({object:c,properties:["sc","scope"],default:document});if(e!==document){let a=l(e);null!==a?e=a:(console.warn("qs53: scope not found, using document instead"),e=document)}g=m({object:c,
properties:["ar","array"],default:!1});b=m({object:c,property:"all",default:!1});if((h=m({object:c,property:"unittest",default:!1}))&&"returnOptions"===h)return{selector:f,scope:e,array:g,all:b,debug:!1,unittest:h};if(!0===b){let a=e.querySelectorAll(f);return 0===a.length?null:!0===g?Array.from(a):a}{let a=e.querySelector(f);return null===a?null:!0===g?(c=[],c.push(a),c):a}}catch(f){console.error(f)}}
function t(c){function f(){return new Promise((c,q)=>{e.iterations=d;e.result=null;let n="function"===typeof g?g(e):g;"undefined"===typeof n?e.result=!1:"boolean"===typeof n&&(e.result=n);!1===e.result?0>h?(d++,setTimeout(()=>{f().then(c,q)},b)):d<a?(d++,setTimeout(()=>{f().then(c,q)},b)):(e.message="Timeout expired",u?c(e):q(e)):c(e)})}if("undefined"===typeof c)return Promise.reject(Error("Options undefined"));"number"===typeof c&&(c={delay:c,count:1,leading:!1,test:a=>{if(a.iterations===a.count)return a.result=
!0,a}});let e={delay:250,limit:3,debug:!1,test:()=>!1,count:0,leading:!0,expireThen:!0,unittest:!1};for(let a in e)e.hasOwnProperty(a)&&(e[a]=m(c[a],e[a]));for(let a in c)c.hasOwnProperty(a)&&!e[a]&&(e[a]=c[a]);if((c=m(e.unittest,!1))&&"returnOptions"===c)return Promise.resolve(e);let g=e.test,b=e.delay,h=0<e.count?0:e.limit,a=0<e.count?e.count:Math.floor(1E3/b*h),d=!0===e.leading?1:0,u=e.expireThen;return c&&"returnCalcs"===c?Promise.resolve({limit:h,count:a,debug:!1,debugPrefix:""}):f()}
{let c=document.createElement("style");c.appendChild(document.createTextNode('.theme-default{--back:#1b1b1b;--back-light:#25292c;--back-api:#252628;--prime:#ff3e00;--second:#111111;--flash:#6ab2ff;--heading:#dfdfdf;--text:#c5c5c5;--sidebar-text:#d0d0d0;}::selection{background:#e34b1d !important;color:var(--back) !important;text-shadow:none;}header{background-color:#3e3e3e !important;box-shadow:-0.4rem 0.9rem 0.7rem #000 !important;transition:unset !important;}.home{background-color:#0000 !important;}ul.open{background-color:transparent !important;}li::before{background-color:var(--text) !important;}blockquote{color:#5bbdff;border:2px solid #144b86 !important;}#sapper blockquote code,code{color:#dddbdb !important;background:var(--back-api) !important;}h3 > code,h4 > code{background:unset !important;}aside::after{background:none !important;}a:hover,.section:hover,.subsection:hover,.active{color:var(--prime) !important;}a{transition:none !important;}a.anchor{background:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBzdHJva2U9IiNkZmRmZGYiPjxwYXRoIGQ9Im05IDdoLTNhMiAyIDAgMCAwIDAgMTBoMyIvPjxwYXRoIGQ9Im0xNSA3aDNhMiAyIDAgMCAxIDAgMTBoLTMiLz48cGF0aCBkPSJtNyAxMmgxMCIvPjwvZz48L3N2Zz4=") 0 50% no-repeat !important;}h4 > .anchor{position:absolute !important;top:0;}h1,h2,h3,h4,h5,h6{color:var(--heading) !important;}code[class*="language-"],pre[class*="language-"]{color:#f2f4f8;background:none;text-shadow:1px 1px 2px rgba(0,0,0,0.7);}:not(pre) > code[class*="language-"],pre[class*="language-"]{background:var(--back-api) !important;box-shadow:1px 1px 0 #4b4b4b !important;}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#53ce48;}.token.punctuation{color:#fff;}.namespace{opacity:.7;}.token.property,.token.tag,.token.constant,.token.symbol,.token.deleted{color:#ff4c12;}.token.boolean,.token.number{color:#ffd739;}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#ffa600;}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string,.token.variable{color:#f8f8f2;}.token.atrule,.token.attr-value,.token.function,.token.class-name{color:#ff5ea2;}.token.keyword{color:#76cef9;}.token.regex,.token.important{color:#fd971f;}.token.important,.token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}'));
c.className="darkmode";document.head.appendChild(c)}p({myNode:{tagName:"div",id:"dark-mode-button",parentNode:"body",style:"cursor:pointer; position:fixed; z-index:200; left:14px; top:16px; width:25px;",addEventListener:["click",()=>{{let c=r(".darkmode");null!==c&&(c.disabled=c.disabled?!1:!0)}},!0],innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 578.4 578.4"><path d="M289.2 0C129.7 0 0 129.7 0 289.2 0 448.7 129.7 578.4 289.2 578.4c159.5 0 289.2-129.7 289.2-289.2C578.4 129.7 448.7 0 289.2 0zM28.6 289.2C28.6 145.5 145.5 28.6 289.2 28.6l0 0v521.3l0 0C145.5 549.8 28.6 432.9 28.6 289.2z" fill="#b2b2b2"/></svg>'}});
t(2E3).then(()=>{let c=r(".home[title=Homepage]");null!==c&&(c.style.backgroundImage='url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyBpZD0ic3ZlbHRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTkiIGhlaWdodD0iMTM5IiB2aWV3Qm94PSIwIDAgNTE5IDEzOSI+PHBhdGggaWQ9ImxvZ290eXBlIiBmaWxsPSIjZGZkZmRmIiBkPSJNMTcyLjM5LDEwMC40MWEyNC4xLDI0LjEsMCwwLDEtMTMuNzItMy44NywxOS44NiwxOS44NiwwLDAsMS04LTEwLjYxTDE1OSw4Mi44NmExNS40LDE1LjQsMCwwLDAsNS40NSw2LjYsMTQuMzcsMTQuMzcsMCwwLDAsOC4yNywyLjQzLDEyLjE0LDEyLjE0LDAsMCwwLDcuODgtMi4zOCw4LjI5LDguMjksMCwwLDAsMi45NC02LjgyLDcuNDMsNy40MywwLDAsMC0uODEtMy40NSwxMC4zMiwxMC4zMiwwLDAsMC0xLjgzLTIuNiwxMi4zNiwxMi4zNiwwLDAsMC0zLjE2LTIuMDljLTEuNDItLjcxLTIuNTktMS4yNS0zLjUzLTEuNjJzLTIuMzItLjg3LTQuMTMtMS40OWMtMi4yOC0uOC00LTEuNDItNS4xMi0xLjg4YTM3Ljg2LDM3Ljg2LDAsMCwxLTQuNDctMi4yNSwxNi4zNywxNi4zNywwLDAsMS00LjE4LTMuMTZBMTUuNDMsMTUuNDMsMCwwLDEsMTUzLjgxLDYwYTE0Ljc3LDE0Ljc3LDAsMCwxLDQtMTYuNzlxNS4xMi00LjUxLDEzLjg5LTQuNTEsNy4zNCwwLDEyLjA2LDMuMjNhMTUuNjMsMTUuNjMsMCwwLDEsNi4zNSw4LjYxbC04LjE4LDIuNzNhOS41Nyw5LjU3LDAsMCwwLTQtNC4zOUExMy4zLDEzLjMsMCwwLDAsMTcxLDQ3LjI0YTEwLjcsMTAuNywwLDAsMC02LjY5LDEuODcsNi4yOCw2LjI4LDAsMCwwLTIuNDIsNS4yOSw1LjUyLDUuNTIsMCwwLDAsMS44Nyw0LjA5LDEzLDEzLDAsMCwwLDMuOTIsMi42NGMxLjM2LjU3LDMuNDQsMS4zMyw2LjIyLDIuMywxLjcuNjMsMywxLjA5LDMuNzksMS40MXMyLC44MywzLjYyLDEuNTdhMjUuNzksMjUuNzksMCwwLDEsMy42NywyLDM0LjM2LDM0LjM2LDAsMCwxLDMsMi40MywxMi44NiwxMi44NiwwLDAsMSwyLjYsMy4xMSwxNy4wNiwxNy4wNiwwLDAsMSwxLjUzLDMuODQsMTcuNDIsMTcuNDIsMCwwLDEsLjY0LDQuODFxMCw4LjM2LTUuNzEsMTMuMDhUMTcyLjM5LDEwMC40MVptNTQuNjItMUwyMDYuNTYsMzkuNzRoOS41NGwxMy41NSw0MS41OGE2Ni4xOSw2Ni4xOSwwLDAsMSwxLjg4LDYuODIsNjMuNDMsNjMuNDMsMCwwLDEsMS44Ny02LjgybDEzLjM4LTQxLjU4aDkuNDZMMjM1Ljg3LDk5LjM5Wm00Ny4yOSwwVjM5Ljc0aDM3djguMzVIMjgzLjE3VjY0LjQ1aDE4LjE1VjcyLjhIMjgzLjE3VjkxaDMwdjguMzVabTYxLjQ0LDBWMzkuNzRoOC44N1Y5MC44N2gyOS4xNHY4LjUyWm03MS40MS01MS4xM1Y5OS4zOWgtOC44NlY0OC4yNkgzODEuNDJWMzkuNzRINDI0djguNTJabTM1LjIsNTEuMTNWMzkuNzRoMzd2OC4zNUg0NTEuMjFWNjQuNDVoMTguMTVWNzIuOEg0NTEuMjFWOTFoMzB2OC4zNVoiLz4NCjxwYXRoIGlkPSJiYWNrIiBmaWxsPSIjZmYzZTAwIiBkPSJNMTEwLjIzLDI4LjM5Qzk5LjgzLDEzLjUxLDc5LjI5LDkuMSw2NC40NCwxOC41NkwzOC4zNiwzNS4xOGEyOS45LDI5LjksMCwwLDAtMTMuNTIsMjAsMzEuNTMsMzEuNTMsMCwwLDAsMy4xLDIwLjI0LDI5Ljk0LDI5Ljk0LDAsMCwwLTQuNDcsMTEuMTgsMzEuODYsMzEuODYsMCwwLDAsNS40NSwyNC4xMmMxMC40LDE0Ljg4LDMwLjk0LDE5LjI5LDQ1Ljc5LDkuODNMMTAwLjc5LDEwNGEzMCwzMCwwLDAsMCwxMy41Mi0yMCwzMS41MiwzMS41MiwwLDAsMC0zLjExLTIwLjIzLDMwLjEzLDMwLjEzLDAsMCwwLDQuNDgtMTEuMTgsMzEuOSwzMS45LDAsMCwwLTUuNDUtMjQuMTIiLz4NCjxwYXRoIGlkPSJmcm9udCIgZmlsbD0iI2ZmZiIgZD0iTTYxLjg5LDExMi4xNmEyMC43MywyMC43MywwLDAsMS0yMi4yNC04LjI1LDE5LjE0LDE5LjE0LDAsMCwxLTMuMjctMTQuNUExNywxNywwLDAsMSwzNyw4N2wuNDktMS41LDEuMzQsMUEzMy43OCwzMy43OCwwLDAsMCw0OSw5MS41NmwxLC4yOS0uMDksMUE1LjksNS45LDAsMCwwLDUxLDk2LjdhNi4yNSw2LjI1LDAsMCwwLDYuNywyLjQ4LDUuODUsNS44NSwwLDAsMCwxLjYtLjdMODUuMzQsODEuODZhNS40Miw1LjQyLDAsMCwwLDIuNDUtMy42NCw1Ljc3LDUuNzcsMCwwLDAtMS00LjM3LDYuMjUsNi4yNSwwLDAsMC02LjctMi40OCw1LjcyLDUuNzIsMCwwLDAtMS42LjdsLTEwLDYuMzVhMTkuMSwxOS4xLDAsMCwxLTUuMjksMi4zMkEyMC43MiwyMC43MiwwLDAsMSw0MSw3Mi41LDE5LjE2LDE5LjE2LDAsMCwxLDM3Ljc1LDU4YTE4LDE4LDAsMCwxLDguMTMtMTIuMDZMNzIsMjkuMzJBMTkuMDUsMTkuMDUsMCwwLDEsNzcuMjYsMjdhMjAuNzEsMjAuNzEsMCwwLDEsMjIuMjMsOC4yNSwxOS4xNCwxOS4xNCwwLDAsMSwzLjI4LDE0LjUsMjAuMTUsMjAuMTUsMCwwLDEtLjYyLDIuNDNsLS41LDEuNS0xLjMzLTFhMzMuNzgsMzMuNzgsMCwwLDAtMTAuMi01LjFsLTEtLjI5LjA5LTFhNS44Niw1Ljg2LDAsMCwwLTEuMDYtMy44OEE2LjIzLDYuMjMsMCwwLDAsODEuNDksNDBhNS43Miw1LjcyLDAsMCwwLTEuNi43TDUzLjgsNTcuMjlhNS40NSw1LjQ1LDAsMCwwLTIuNDUsMy42Myw1Ljg0LDUuODQsMCwwLDAsMSw0LjM4QTYuMjUsNi4yNSwwLDAsMCw1OSw2Ny43OGE2LDYsMCwwLDAsMS42LS43bDEwLTYuMzRhMTguNjEsMTguNjEsMCwwLDEsNS4zLTIuMzMsMjAuNywyMC43LDAsMCwxLDIyLjIzLDguMjQsMTkuMTYsMTkuMTYsMCwwLDEsMy4yOCwxNC41LDE4LDE4LDAsMCwxLTguMTMsMTIuMDZMNjcuMTksMTA5LjgzYTE5LjE4LDE5LjE4LDAsMCwxLTUuMywyLjMzIi8+PC9zdmc+")')}).catch(c=>
{console.error(c)});t({delay:1E3,limit:3,leading:!1,test:c=>{c.selector="ul.reference-toc";c.element=r(c.selector);c.result=null!==c.element?!0:!1;return c}}).then(c=>{!0===c.result?(p({pirateNode:{tagName:"ul",innerHTML:c.element.innerHTML,parentNode:r("div.sidebar"),className:c.element.className}}),c.element.style="display:none;"):console.warn(`${c.message} whilst searching for ${c.selector}`)}).catch(c=>{console.error(c)})
